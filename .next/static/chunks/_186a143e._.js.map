{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/lib/supabase/client.ts"],"sourcesContent":["\r\nimport { createBrowserClient } from '@supabase/ssr';\r\n\r\nexport const supabase = createBrowserClient(\r\n  process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n  process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,\r\n);\r\n"],"names":[],"mappings":";;;AAIE;AAHF;AAAA;;AAEO,MAAM,WAAW,CAAA,GAAA,6KAAA,CAAA,sBAAmB,AAAD","debugId":null}},
    {"offset": {"line": 24, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/signup/page.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport { supabase } from '../../../lib/supabase/client';\r\n\r\nexport default function FirstUserPage() {\r\n  const r = useRouter();\r\n  const [email, setEmail] = useState('');\r\n  const [displayName, setDisplayName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [busy, setBusy] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data }) => {\r\n      if (data.session) r.replace('/admin');\r\n    });\r\n  }, [r]);\r\n\r\n  async function onSubmit(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setErr(null);\r\n    setBusy(true);\r\n    try {\r\n      const res = await fetch('/api/bootstrap/create-first-admin', {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ email, password, name: displayName }),\r\n      });\r\n      const data = await res.json();\r\n      if (!res.ok) throw new Error(data?.error || 'Failed to create admin');\r\n\r\n      const { error } = await supabase.auth.signInWithPassword({ email, password });\r\n      if (error) throw error;\r\n\r\n      r.replace('/admin');\r\n    } catch (e: unknown) {\r\n      setErr(e?.message || 'Something went wrong');\r\n    } finally {\r\n      setBusy(false);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#151c2f] text-white flex items-center justify-center p-6\">\r\n      <form onSubmit={onSubmit} className=\"w-full max-w-md space-y-4 rounded-xl bg-[#212e3f] p-6 shadow-xl\">\r\n        <h1 className=\"text-2xl font-semibold\">Create the first admin user</h1>\r\n        <p className=\"text-white/60 text-sm\">\r\n          This page only appears because no users exist yet. The created account will be an <b>admin</b>.\r\n        </p>\r\n\r\n        <label className=\"block\">\r\n          <div className=\"mb-1 text-sm text-white/80\">Display name</div>\r\n          <input\r\n            className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30\"\r\n            value={displayName}\r\n            onChange={(e) => setDisplayName(e.target.value)}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label className=\"block\">\r\n          <div className=\"mb-1 text-sm text-white/80\">Email</div>\r\n          <input\r\n            type=\"email\"\r\n            className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        <label className=\"block\">\r\n          <div className=\"mb-1 text-sm text-white/80\">Password</div>\r\n          <input\r\n            type=\"password\"\r\n            className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            minLength={6}\r\n            required\r\n          />\r\n        </label>\r\n\r\n        {err && <div className=\"text-red-300 text-sm\">{err}</div>}\r\n\r\n        <button\r\n          disabled={busy}\r\n          className=\"w-full rounded-lg bg-emerald-500/90 hover:bg-emerald-500 text-black font-medium px-3 py-2 disabled:opacity-60\"\r\n        >\r\n          {busy ? 'Creatingâ€¦' : 'Create admin'}\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}
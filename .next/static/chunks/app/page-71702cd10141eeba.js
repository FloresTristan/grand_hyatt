(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{3175:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>h});var l=o(5155),n=o(6217),s=o(7217),a=o(2115),r=o(1013),c=o(7153),i=o(3554),d=o(9564);function u(e){let{xml:t,viewerId:o="krpano1",targetId:n="pano1",style:r,options:c}=e,[u,h]=(0,a.useState)(!1),[p,f]=(0,a.useState)([]),[m,w]=(0,a.useState)(!1),[v,x]=(0,a.useState)(null),[g,b]=(0,a.useState)(!1),j=(0,a.useRef)(!1),_=(0,a.useRef)(null);(0,a.useEffect)(()=>{window.openHotspotById=e=>{let t=p.find(t=>t.id===e);t&&(x(t),b(!0))}},[p]),(0,a.useEffect)(()=>{(0,s.lP)({setHotspots:f,setLoading:w})},[]);let k=(0,a.useCallback)(e=>{e.call("\n      for(set(i,0), i LT hotspot.count, inc(i),\n        set(hn, get(hotspot[get(i)].name));\n        if(startswith(hn, 'dbhs_'), removehotspot(get(hn)); dec(i););\n      );\n    "),p.forEach((t,o)=>{var l,n,s,a,r,c;let i="dbhs_".concat(t.id?t.id.replace(/[^a-zA-Z0-9_]/g,"_"):o);e.call("addhotspot(".concat(i,")")),e.set("hotspot[".concat(i,"].id"),null!=(l=t.id)?l:""),e.set("hotspot[".concat(i,"].ath"),null!=(n=t.ath)?n:0),e.set("hotspot[".concat(i,"].atv"),null!=(s=t.atv)?s:0),e.call("hotspot[".concat(i,"].loadstyle(hs_circle)")),e.set("hotspot[".concat(i,"].keep"),!0),e.set("hotspot[".concat(i,"].visible"),!0),e.set("hotspot[".concat(i,"].handcursor"),!0);let d=null!=(a=t.name)?a:"",u=null!=(r=t.description)?r:"";e.set("hotspot[".concat(i,"].tag"),d),e.set("hotspot[".concat(i,"].data_title"),d),e.set("hotspot[".concat(i,"].data_desc"),u),e.set("hotspot[".concat(i,"].title"),d),e.set("hotspot[".concat(i,"].text"),d),e.set("hotspot[".concat(i,"].tooltip"),d),e.set("hotspot[".concat(i,"].id"),null!=(c=t.id)?c:"");let h=(t.description||t.name||"hotspot").replace(/'/g,"\\'");e.set("hotspot[".concat(i,"].onclick"),"trace('clicked ".concat(h,"')")),e.set("hotspot[".concat(i,"].onclick"),"jscall('openHotspotById(\"".concat(t.id,"\")')"))})},[p]);return(0,a.useEffect)(()=>{if(u&&!m&&window.embedpano){if(j.current){var e,l,s;_.current=null!=(s=null==(e=(l=window).getkrpano)?void 0:e.call(l,o))?s:null;return}window.embedpano({id:o,target:n,xml:t,html5:"only",consolelog:!0,debugmode:!1,passQueryParameters:!0,onready:e=>{_.current=e,k(e),window.__readdHotspots=()=>{var e,t;let l=null==(e=(t=window).getkrpano)?void 0:e.call(t,o);l&&k(l)},e.call("set(events.onloadcomplete, js(window.__readdHotspots && window.__readdHotspots()))")},...c||{}}),j.current=!0}},[u,m,t,o,n,k]),(0,a.useEffect)(()=>{var e,t,l,n;if(!u||m)return;let s=null!=(n=null!=(l=_.current)?l:null==(e=(t=window).getkrpano)?void 0:e.call(t,o))?n:null;s&&k(s)},[p,u,m,o,k]),(0,a.useEffect)(()=>()=>{try{var e,t;null==(e=(t=window).removepano)||e.call(t,o)}catch(e){}j.current=!1,_.current=null},[o]),console.log({selectedHotspot:v}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(i.default,{src:"/vtour/tour.js",strategy:"afterInteractive",onReady:()=>h(!0)}),(0,l.jsx)("div",{id:n,style:{width:"100%",height:"100%",position:"relative",...r}}),v&&(0,l.jsx)(d.A,{open:g,onClose:()=>b(!1),hotspot:v,container:"fullscreen"})]})}function h(){var e;let[t,o]=(0,a.useState)([]),[i,d]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[f,m]=(0,a.useState)(!0),[w,v]=(0,a.useState)([]),[x,g]=(0,a.useState)(!1),[b,j]=(0,a.useState)();(0,a.useEffect)(()=>{(0,s.E2)({setEvents:o,setLoadingEvents:d}),(0,s.Nb)({setSeasons:v,setLoading:g}),window.self===window.top&&p(!0)},[]),(0,a.useEffect)(()=>{if(!w)return;let e=w.find(e=>!0===e.is_active);console.log({activeSeason:e}),j(e)},[w]),console.log({seasons:w}),console.log({selectedSeason:b});let _=null!=(e=null==b?void 0:b.gif_url)?e:null;return(0,l.jsxs)("div",{className:"relative w-screen h-screen overflow-hidden",children:[h&&_&&(0,l.jsx)("div",{className:"pointer-events-none absolute inset-0 z-20",children:(0,l.jsx)(c.A,{show:!0,frameSrc:_})}),(0,l.jsx)(u,{xml:"/vtour/tour.xml"}),h&&t.length>0&&(0,l.jsx)(n.A,{container:"fullscreen",open:f,onClose:()=>m(!1),events:t.map(e=>{var t,o,l,n,a,r;return{...e,imageUrl:null!=(t=e.image_url)?t:void 0,title:null!=(o=e.title)?o:"(untitled)",subheading:null!=(l=e.subheading)?l:"",description:null!=(n=e.description)?n:"",dateRange:(0,s.tX)(e.start_date,e.end_date),timeText:(0,s.Rs)(e.start_time),ctaLabel:null!=(a=e.cta_label)?a:"",ctaHref:null!=(r=e.cta_href)?r:""}}),initialIndex:0}),(0,l.jsx)("button",{onClick:()=>m(!0),children:(0,l.jsx)(r.LaH,{className:"absolute bottom-4 z-30 right-4 h-12 w-12 cursor-pointer hover:text-red-500 duration-300"})})]})}},7123:(e,t,o)=>{Promise.resolve().then(o.bind(o,3175))},7153:(e,t,o)=>{"use strict";o.d(t,{A:()=>s});var l=o(5155),n=o(6766);function s(e){let{show:t,frameSrc:o}=e;return!1===t?null:(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(n.default,{unoptimized:!0,src:o,alt:"sample",fill:!0,className:"object-fill object-center"})})}},9564:(e,t,o)=>{"use strict";o.d(t,{A:()=>r});var l=o(5155),n=o(2115),s=o(6766),a=o(528);function r(e){let{open:t,onClose:o,hotspot:r,container:c="contained"}=e,[i,d]=(0,n.useState)(!1),[u,h]=(0,n.useState)(!1),p=(0,n.useRef)(null);if((0,n.useEffect)(()=>{t||d(!1)},[t]),!r||!t)return null;console.log({hotspot:r});let f="contained"===c?"absolute":"fixed";return(0,l.jsxs)("div",{id:"hotspotModal",className:"".concat(f," inset-0 ").concat("contained"===c?"z-10":"z-[50]"," flex items-center justify-center"),role:"dialog","aria-modal":"true",children:[(0,l.jsx)("div",{className:"".concat(f," inset-0 bg-black/60 backdrop-blur-[1px]"),onClick:o}),(0,l.jsxs)("div",{className:"relative z-10 w-full max-w-[290px] md:max-w-[560px] rounded-2xl bg-white shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,l.jsx)("button",{onClick:o,"aria-label":"Close",className:"absolute -right-3 -top-3 flex h-10 w-10 items-center justify-center rounded-full bg-red-500 hover:bg-red-600 text-white shadow-lg cursor-pointer ring-4 ring-white",children:"\xd7"}),(0,l.jsxs)("div",{className:"px-5 pb-5 pt-6",children:[(null==r?void 0:r.image_url)&&(0,l.jsxs)("div",{className:"relative mx-auto mb-4 h-32 w-full overflow-hidden rounded-xl  ".concat("fullscreen"===c?"md:h-60":"md:h-32"),children:[(0,l.jsx)(s.default,{src:r.image_url,alt:r.name||"",fill:!0,unoptimized:!0,className:"object-contain object-center bg-black/50 cursor-zoom-in   hover:scale-[1.02] transition-transform duration-300 hover:opacity-70 hover:duration-500",sizes:"(max-width: 640px) 100vw, 560px",priority:!0,onClick:()=>h(!0)}),(0,l.jsx)(a.B,{open:u,src:r.image_url||"",alt:r.name||"",imageRef:p,onClose:()=>h(!1)})]}),(0,l.jsx)("h2",{className:"text-center text-neutral-600 text-3xl font-semibold tracking-tight whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto",children:null==r?void 0:r.name}),!!(null==r?void 0:r.description)&&(0,l.jsx)("div",{className:"mt-4 max-h-56 overflow-y-auto",children:(0,l.jsx)("p",{className:"text-sm leading-relaxed text-neutral-800 whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto",children:null==r?void 0:r.description})})]})]})]})}}},e=>{e.O(0,[512,766,19,741,469,273,441,964,358],()=>e(e.s=7123)),_N_E=e.O()}]);
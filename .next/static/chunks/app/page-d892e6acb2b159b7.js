(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{6061:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>c});var n=l(5155),a=l(6766);let r={src:"/_next/static/media/grandhyatt-resized.33ab7afd.png",height:1080,width:1920,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAMAAABPT11nAAAAG1BMVEXd3d3y8vLp6enW1dbJycnk5OS4uLjExMSamppylAYKAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAJ0lEQVR4nB3FyQ0AIBDEsGT2gP4rRsIf08ieblDvBkwcLCDxTxXFPAhuAFTJTpF9AAAAAElFTkSuQmCC",blurWidth:8,blurHeight:5};var i=l(6217),s=l(7217),o=l(2115);function c(){let[e,t]=(0,o.useState)([]),[l,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(!1),[h,m]=(0,o.useState)(!0);return(0,o.useEffect)(()=>{(0,s.y$)({setEvents:t,setLoadingEvents:c}),window.self===window.top&&u(!0)},[]),console.log(e),(0,n.jsxs)("div",{className:"",children:[(0,n.jsx)(a.default,{src:r,alt:"sample",placeholder:"blur",quality:100,objectFit:"cover",layout:"fill"}),d&&e.length>0&&(0,n.jsx)(i.A,{container:"fullscreen",open:h,onClose:()=>m(!1),events:e.map(e=>{var t,l,n,a,r,i;return{...e,imageUrl:null!=(t=e.image_url)?t:void 0,title:null!=(l=e.title)?l:"(untitled)",subheading:null!=(n=e.subheading)?n:"",description:null!=(a=e.description)?a:"",dateRange:(0,s.tX)(e.start_date,e.end_date),timeText:(0,s.Rs)(e.start_time),ctaLabel:null!=(r=e.cta_label)?r:"",ctaHref:null!=(i=e.cta_href)?i:""}}),initialIndex:0})]})}},6217:(e,t,l)=>{"use strict";l.d(t,{A:()=>i});var n=l(5155),a=l(2115),r=l(6766);function i(e){var t,l,i;let{open:s,onClose:o,events:c,container:d="contained",initialIndex:u=0}=e,[h,m]=(0,a.useState)(()=>{var e;return Math.min(Math.max(u,0),Math.max(0,(null!=(e=null==c?void 0:c.length)?e:1)-1))});(0,a.useEffect)(()=>{var e;m(Math.min(Math.max(u,0),Math.max(0,(null!=(e=null==c?void 0:c.length)?e:1)-1)))},[c,u,s]),(0,a.useEffect)(()=>{var e;if(s&&!((null!=(e=null==c?void 0:c.length)?e:0)<1))return window.addEventListener("keydown",t),()=>window.removeEventListener("keydown",t);function t(e){"Escape"===e.key&&o(),"ArrowLeft"===e.key&&m(e=>(e-1+c.length)%c.length),"ArrowRight"===e.key&&m(e=>(e+1)%c.length)}},[s,c,o]);let x=(null!=(t=null==c?void 0:c.length)?t:0)>0;if(!s||!x)return null;let g="contained"===d?"absolute":"fixed",p=c[h];return(0,n.jsxs)("div",{className:"".concat(g," inset-0 ").concat("contained"===d?"z-10":"z-[9999]"," flex items-center justify-center"),role:"dialog","aria-modal":"true",children:[(0,n.jsx)("div",{className:"".concat(g," inset-0 bg-black/60 backdrop-blur-[1px]"),onClick:o}),(0,n.jsxs)("div",{className:"relative z-10 w-full max-w-[560px] rounded-2xl bg-white shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,n.jsx)("button",{onClick:o,"aria-label":"Close",className:"absolute -right-3 -top-3 flex h-10 w-10 items-center justify-center rounded-full bg-red-600 text-white shadow-lg ring-4 ring-white",children:"\xd7"}),c.length>1&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("button",{"aria-label":"Previous",onClick:()=>m(e=>(e-1+c.length)%c.length),className:"absolute left-2 top-1/2 z-[50] -translate-y-1/2 rounded-full bg-black/30 text-white h-8 w-8 grid place-items-center hover:bg-black/40",children:"‹"}),(0,n.jsx)("button",{"aria-label":"Next",onClick:()=>m(e=>(e+1)%c.length),className:"absolute right-2 top-1/2 z-[50] -translate-y-1/2 rounded-full bg-black/30 text-white h-8 w-8 grid place-items-center hover:bg-black/40",children:"›"})]}),(0,n.jsxs)("div",{className:"px-5 pb-5 pt-6",children:[(null==p?void 0:p.imageUrl)&&(0,n.jsx)("div",{className:"relative mx-auto mb-4 h-32 w-full overflow-hidden rounded-xl sm:h-36",children:(0,n.jsx)(r.default,{src:p.imageUrl,alt:p.title||"",fill:!0,unoptimized:!0,className:"object-cover",sizes:"(max-width: 640px) 100vw, 560px",priority:!0})}),(0,n.jsx)("h2",{className:"text-center text-neutral-600 text-3xl font-semibold tracking-tight whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto",children:null==p?void 0:p.title}),!!(null==p?void 0:p.subheading)&&(0,n.jsx)("p",{className:"mt-1 text-center text-sm text-neutral-600 whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto",children:null==p?void 0:p.subheading}),((null==p?void 0:p.dateRange)||(null==p?void 0:p.timeText))&&(0,n.jsxs)("div",{className:"mt-2 flex items-center justify-center gap-5 text-sm text-neutral-700",children:[(null==p?void 0:p.dateRange)&&(0,n.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"inline-block h-5 w-5 rounded-[4px] border border-neutral-400"}),null==p?void 0:p.dateRange]}),(null==p?void 0:p.timeText)&&(0,n.jsxs)("span",{className:"inline-flex items-center gap-1.5",children:[(0,n.jsx)("span",{className:"inline-block h-5 w-5 rounded-full border border-neutral-400"}),null==p?void 0:p.timeText]})]}),!!(null==p?void 0:p.description)&&(0,n.jsx)("div",{className:"mt-4 max-h-56 overflow-y-auto",children:(0,n.jsx)("p",{className:"text-sm leading-relaxed text-neutral-800 whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto",children:null==p?void 0:p.description})}),((null==p?void 0:p.ctaLabel)||(null==p?void 0:p.ctaHref))&&(0,n.jsx)("div",{className:"mt-6 flex justify-center",children:(null==p?void 0:p.ctaHref)?(0,n.jsx)("a",{href:null==p?void 0:p.ctaHref,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-full bg-red-600 hover:bg-red-500 hover:shadow-2xl duration-300 px-6 py-3 text-sm font-semibold uppercase tracking-wide text-white shadow hover:opacity-95",children:null!=(l=null==p?void 0:p.ctaLabel)?l:"Learn more"}):(0,n.jsx)("button",{className:"inline-flex items-center justify-center rounded-full bg-red-600 hover:bg-red-500 hover:shadow-2xl duration-300 px-6 py-3 text-sm font-semibold uppercase tracking-wide text-white shadow hover:opacity-95",children:null!=(i=null==p?void 0:p.ctaLabel)?i:"Learn more"})}),c.length>1&&(0,n.jsx)("div",{className:"mt-4 flex items-center justify-center gap-2",children:c.map((e,t)=>(0,n.jsx)("button",{"aria-label":"Go to slide ".concat(t+1),onClick:()=>m(t),className:"h-2 w-2 rounded-full ".concat(t===h?"bg-neutral-900":"bg-neutral-300")},t))})]})]})]})}},7217:(e,t,l)=>{"use strict";l.d(t,{EY:()=>s,Hz:()=>a,IH:()=>c,QP:()=>o,Rs:()=>h,ox:()=>i,tX:()=>d,y$:()=>r,zM:()=>m});var n=l(5155);l(2115);let a=e=>{let{imageUrl:t,onFileSelect:l,onDrop:a,onDragOver:r,onPickClick:i,inputRef:s}=e;return(0,n.jsxs)("div",{className:"border border-dashed rounded-xl h-32 flex items-center justify-center relative hover:border-white/60 transition-colors cursor-pointer group",onClick:i,onDrop:a,onDragOver:r,title:"Click, drag & drop, or paste an image",children:[t?(0,n.jsx)("img",{src:t,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover rounded-xl"}):(0,n.jsxs)("div",{className:"text-center text-white/70 px-4",children:[(0,n.jsx)("div",{className:"text-sm",children:"Image Upload"}),(0,n.jsx)("div",{className:"text-xs mt-1 opacity-80",children:"Click, drag & drop, or paste"})]}),(0,n.jsx)("div",{className:"absolute inset-0 rounded-xl ring-0 group-hover:ring-2 ring-white/10 pointer-events-none"}),(0,n.jsx)("input",{ref:s,type:"file",accept:"image/*",onChange:l,className:"hidden"})]})};async function r(e){let{setEvents:t,setLoadingEvents:l}=e;l(!0);try{let e=await fetch("/api/events",{cache:"no-store"}),l=await e.json();if(!e.ok)throw Error((null==l?void 0:l.error)||"Failed to load events");let n=(l.items||[]).sort((e,t)=>{var l,n;return(null!=(l=e.order)?l:0)-(null!=(n=t.order)?n:0)});console.log(n,"fetched items for homepage"),t(n)}catch(e){console.error(e)}finally{l(!1)}}function i(e){let{label:t,value:l,onChange:a,placeholder:r}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("input",{value:l,onChange:e=>a(e.target.value),placeholder:r,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}function s(e){let{label:t,value:l,onChange:a,placeholder:r,rows:i=5}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("textarea",{value:l,onChange:e=>a(e.target.value),placeholder:r,rows:i,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30 resize-y"})]})}function o(e){let{label:t,value:l,onChange:a,min:r,max:i}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("input",{style:{colorScheme:"dark"},type:"date",value:l,min:r,max:i,onChange:e=>a(e.target.value),className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}function c(e){let{publishModal:t,forceOpen:l,startDate:n,endDate:a}=e;if(!t)return!1;if(l)return!0;let r=new Date,i=n?function(e){let t=new Date(e);return t.setHours(0,0,0,0),t}(new Date(n)):new Date(0),s=a?function(e){let t=new Date(e);return t.setHours(23,59,59,999),t}(new Date(a)):new Date(864e13);return r>=i&&r<=s}function d(e,t){if(!e&&!t)return"";if(e&&!t)return u(e);if(!e&&t)return u(t);let l=new Date(e),n=new Date(t);if(isNaN(l.getTime())||isNaN(n.getTime()))return"";if(l.getFullYear()===n.getFullYear()&&l.getMonth()===n.getMonth()){let e=l.toLocaleString(void 0,{month:"short"});return"".concat(e," ").concat(l.getDate(),"–").concat(n.getDate(),", ").concat(l.getFullYear())}return"".concat(u(e)," – ").concat(u(t))}function u(e){let t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function h(e){if(!e)return"";let[t,l]=e.split(":").map(Number),n=new Date;return n.setHours(null!=t?t:0,null!=l?l:0,0,0),n.toLocaleTimeString([],{hour:"numeric",minute:"2-digit"})}function m(e){return new Promise((t,l)=>{let n=new FileReader;n.onload=()=>t(String(n.result)),n.onerror=l,n.readAsDataURL(e)})}},7846:(e,t,l)=>{Promise.resolve().then(l.bind(l,6061))}},e=>{e.O(0,[766,441,964,358],()=>e(e.s=7846)),_N_E=e.O()}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{3019:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(5155),l=r(2115),o=r(7217);function a(){let e=(0,l.useRef)(null);return(0,n.jsxs)("div",{className:"font-sans flex flex-col gap-4 md:flex-row min-h-screen md:h-screen p-8 md:gap-8 sm:px-20 bg-[#151c2f]",children:[(0,n.jsx)("div",{className:"md:w-[30%] text-white h-[90%] md:overflow-scroll custom-scrollbar shadow-xl rounded-xl bg-[#212e3f] p-3 md:p-5 space-y-4",children:(0,n.jsx)("div",{className:"md:h-[90%] overflow-scroll custom-scrollbar",children:(0,n.jsx)(o.ox,{label:"Season Name",value:"",onChange:()=>{},placeholder:"e.g. Summer 2024"})})}),(0,n.jsxs)("div",{className:"md:w-[70%] h-[90%] md:overflow-scroll custom-scrollbar text-white shadow-xl rounded-xl bg-[#212e3f] gap-4 p-3 md:p-5",children:[(0,n.jsx)("div",{className:"mb-2 text-sm text-white/60",children:"Live preview from website with frames"}),(0,n.jsx)("div",{className:"relative w-full h-[720px] md:h-full border border-white/10 bg-white rounded-xl overflow-hidden",children:(0,n.jsx)("iframe",{ref:e,src:"/",title:"Website Live Preview",className:"absolute inset-0 w-full h-full"})})]})]})}},7217:(e,t,r)=>{"use strict";r.d(t,{Ah:()=>a,E2:()=>o,EY:()=>s,Hz:()=>l,IH:()=>d,QP:()=>c,Rs:()=>h,dT:()=>f,ox:()=>i,sH:()=>m,tX:()=>u,zM:()=>p});var n=r(5155);r(2115);let l=e=>{let{imageUrl:t,onFileSelect:r,onDrop:l,onDragOver:o,onPickClick:a,inputRef:i}=e;return(0,n.jsxs)("div",{className:"border border-dashed rounded-xl h-32 flex items-center justify-center relative hover:border-white/60 transition-colors cursor-pointer group",onClick:a,onDrop:l,onDragOver:o,title:"Click, drag & drop, or paste an image",children:[t?(0,n.jsx)("img",{src:t,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover rounded-xl"}):(0,n.jsxs)("div",{className:"text-center text-white/70 px-4",children:[(0,n.jsx)("div",{className:"text-sm",children:"Image Upload"}),(0,n.jsx)("div",{className:"text-xs mt-1 opacity-80",children:"Click, drag & drop, or paste"})]}),(0,n.jsx)("div",{className:"absolute inset-0 rounded-xl ring-0 group-hover:ring-2 ring-white/10 pointer-events-none"}),(0,n.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:r,className:"hidden"})]})};async function o(e){let{setEvents:t,setLoadingEvents:r}=e;r(!0);try{var n,l;let e=await fetch("/api/events",{cache:"no-store"}),r=await e.json();if(console.log(r,"fetched data for homepage"),console.log("ANON key fingerprint:",(n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuYWRxenpmeXl3c2JpY3Rmd3ZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxODQ1OTIsImV4cCI6MjA3MTc2MDU5Mn0.VPk2P-BIeJs01QDgUwYtn-K66onMC70WpZeYdHZbEXs",void 0===n)?void 0:n.slice(0,6),"…",(l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuYWRxenpmeXl3c2JpY3Rmd3ZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxODQ1OTIsImV4cCI6MjA3MTc2MDU5Mn0.VPk2P-BIeJs01QDgUwYtn-K66onMC70WpZeYdHZbEXs",void 0===l)?void 0:l.slice(-6)),!e.ok)throw Error((null==r?void 0:r.error)||"Failed to load events");let o=(r.items||[]).sort((e,t)=>{var r,n;return(null!=(r=e.order)?r:0)-(null!=(n=t.order)?n:0)});t(o)}catch(e){console.error(e)}finally{r(!1)}}async function a(e){let{setEvents:t,setLoadingEvents:r}=e;r(!0);try{let e=await fetch("/api/admin/events",{cache:"no-store"}),r=await e.json();if(!e.ok)throw Error((null==r?void 0:r.error)||"Failed to load events");let n=(r.items||[]).sort((e,t)=>{var r,n;return(null!=(r=e.order)?r:0)-(null!=(n=t.order)?n:0)});t(n)}catch(e){console.error(e)}finally{r(!1)}}function i(e){let{label:t,value:r,onChange:l,placeholder:o}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("input",{value:r,onChange:e=>l(e.target.value),placeholder:o,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}function s(e){let{label:t,value:r,onChange:l,placeholder:o,rows:a=5}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("textarea",{value:r,maxLength:500,onChange:e=>l(e.target.value),placeholder:o,rows:a,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30 resize-y"})]})}function c(e){let{label:t,value:r,onChange:l,min:o,max:a}=e;return(0,n.jsxs)("label",{className:"block",children:[(0,n.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,n.jsx)("input",{style:{colorScheme:"dark"},type:"date",value:r,min:o,max:a,onChange:e=>l(e.target.value),className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}function d(e){let{publishModal:t,forceOpen:r,startDate:n,endDate:l}=e;if(!t)return!1;if(r)return!0;let o=new Date,a=n?function(e){let t=new Date(e);return t.setHours(0,0,0,0),t}(new Date(n)):new Date(0),i=l?function(e){let t=new Date(e);return t.setHours(23,59,59,999),t}(new Date(l)):new Date(864e13);return o>=a&&o<=i}function u(e,t){if(!e&&!t)return"";if(e&&!t)return x(e);if(!e&&t)return x(t);let r=new Date(e),n=new Date(t);if(isNaN(r.getTime())||isNaN(n.getTime()))return"";if(r.getFullYear()===n.getFullYear()&&r.getMonth()===n.getMonth()){let e=r.toLocaleString(void 0,{month:"short"});return"".concat(e," ").concat(r.getDate(),"–").concat(n.getDate(),", ").concat(r.getFullYear())}return"".concat(x(e)," – ").concat(x(t))}function m(e,t){let r=h(e),n=h(t);return r||n?r&&!n?r:!r&&n?n:"".concat(r," – ").concat(n):""}function h(e,t){var r;let n=function(e){var t,r;if(!(null==e?void 0:e.trim()))return null;let n=/^(\d{1,2})(?::(\d{1,2}))?(?::(\d{1,2})(?:\.\d+)?)?$/.exec(e.trim());if(!n)return null;let l=Number(n[1]),o=Number(null!=(t=n[2])?t:"0"),a=Number(null!=(r=n[3])?r:"0");return Number.isNaN(l)||Number.isNaN(o)||Number.isNaN(a)||l<0||l>23||o<0||o>59||a<0||a>59?null:{h:l,m:o}}(e);if(!n)return"";let l=n.h%12;0===l&&(l=12);let o=n.h<12?"am":"pm",a=(null==t?void 0:t.upper)?o.toUpperCase():o;return"".concat(l,":").concat((r=n.m)<10?"0".concat(r):String(r)," ").concat(a)}function f(e){return e?new Date(e).toISOString():null}function x(e){let t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function p(e){return new Promise((t,r)=>{let n=new FileReader;n.onload=()=>t(String(n.result)),n.onerror=r,n.readAsDataURL(e)})}},9626:(e,t,r)=>{Promise.resolve().then(r.bind(r,3019))}},e=>{e.O(0,[441,964,358],()=>e(e.s=9626)),_N_E=e.O()}]);
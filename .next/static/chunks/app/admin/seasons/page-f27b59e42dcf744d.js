(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{3019:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var l=r(5155),n=r(2115),o=r(7217);function a(){let e=(0,n.useRef)(null);return(0,l.jsxs)("div",{className:"font-sans flex flex-col gap-4 md:flex-row min-h-screen md:h-screen p-8 md:gap-8 sm:px-20 bg-[#151c2f]",children:[(0,l.jsx)("div",{className:"md:w-[30%] text-white h-[90%] md:overflow-scroll custom-scrollbar shadow-xl rounded-xl bg-[#212e3f] p-3 md:p-5 space-y-4",children:(0,l.jsx)("div",{className:"md:h-[90%] overflow-scroll custom-scrollbar",children:(0,l.jsx)(o.ox,{label:"Season Name",value:"",onChange:()=>{},placeholder:"e.g. Summer 2024"})})}),(0,l.jsxs)("div",{className:"md:w-[70%] h-[90%] md:overflow-scroll custom-scrollbar text-white shadow-xl rounded-xl bg-[#212e3f] gap-4 p-3 md:p-5",children:[(0,l.jsx)("div",{className:"mb-2 text-sm text-white/60",children:"Live preview from website with frames"}),(0,l.jsx)("div",{className:"relative w-full h-[720px] md:h-full border border-white/10 bg-white rounded-xl overflow-hidden",children:(0,l.jsx)("iframe",{ref:e,src:"/",title:"Website Live Preview",className:"absolute inset-0 w-full h-full"})})]})]})}},7217:(e,t,r)=>{"use strict";r.d(t,{$h:()=>d,Ah:()=>a,E2:()=>o,EY:()=>s,Hz:()=>n,IH:()=>m,QP:()=>c,Rs:()=>p,dT:()=>x,oS:()=>v,ox:()=>i,sH:()=>f,tX:()=>h,zM:()=>g});var l=r(5155);r(2115);let n=e=>{let{imageUrl:t,onFileSelect:r,onDrop:n,onDragOver:o,onPickClick:a,inputRef:i}=e;return(0,l.jsxs)("div",{className:"border border-dashed rounded-xl h-32 flex items-center justify-center relative hover:border-white/60 transition-colors cursor-pointer group",onClick:a,onDrop:n,onDragOver:o,title:"Click, drag & drop, or paste an image",children:[t?(0,l.jsx)("img",{src:t,alt:"Preview",className:"absolute inset-0 w-full h-full object-cover rounded-xl"}):(0,l.jsxs)("div",{className:"text-center text-white/70 px-4",children:[(0,l.jsx)("div",{className:"text-sm",children:"Image Upload"}),(0,l.jsx)("div",{className:"text-xs mt-1 opacity-80",children:"Click, drag & drop, or paste"})]}),(0,l.jsx)("div",{className:"absolute inset-0 rounded-xl ring-0 group-hover:ring-2 ring-white/10 pointer-events-none"}),(0,l.jsx)("input",{ref:i,type:"file",accept:"image/*",onChange:r,className:"hidden"})]})};async function o(e){let{setEvents:t,setLoadingEvents:r}=e;r(!0);try{var l,n;let e=await fetch("/api/events",{cache:"no-store"}),r=await e.json();if(console.log(r,"fetched data for homepage"),console.log("ANON key fingerprint:",(l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuYWRxenpmeXl3c2JpY3Rmd3ZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxODQ1OTIsImV4cCI6MjA3MTc2MDU5Mn0.VPk2P-BIeJs01QDgUwYtn-K66onMC70WpZeYdHZbEXs",void 0===l)?void 0:l.slice(0,6),"…",(n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVuYWRxenpmeXl3c2JpY3Rmd3ZnIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTYxODQ1OTIsImV4cCI6MjA3MTc2MDU5Mn0.VPk2P-BIeJs01QDgUwYtn-K66onMC70WpZeYdHZbEXs",void 0===n)?void 0:n.slice(-6)),!e.ok)throw Error((null==r?void 0:r.error)||"Failed to load events");let o=(r.items||[]).sort((e,t)=>{var r,l;return(null!=(r=e.order)?r:0)-(null!=(l=t.order)?l:0)});t(o)}catch(e){console.error(e)}finally{r(!1)}}async function a(e){let{setEvents:t,setLoadingEvents:r}=e;r(!0);try{let e=await fetch("/api/admin/events",{cache:"no-store"}),r=await e.json();if(!e.ok)throw Error((null==r?void 0:r.error)||"Failed to load events");let l=(r.items||[]).sort((e,t)=>{var r,l;return(null!=(r=e.order)?r:0)-(null!=(l=t.order)?l:0)});t(l)}catch(e){console.error(e)}finally{r(!1)}}function i(e){let{label:t,value:r,onChange:n,placeholder:o}=e;return(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,l.jsx)("input",{value:r,onChange:e=>n(e.target.value),placeholder:o,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}function s(e){let{label:t,value:r,onChange:n,placeholder:o,rows:a=5}=e;return(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,l.jsx)("textarea",{value:r,maxLength:500,onChange:e=>n(e.target.value),placeholder:o,rows:a,className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30 resize-y"})]})}function c(e){let{label:t,value:r,onChange:n,min:o,max:a}=e;return(0,l.jsxs)("label",{className:"block",children:[(0,l.jsx)("div",{className:"text-sm mb-1 text-white/80",children:t}),(0,l.jsx)("input",{style:{colorScheme:"dark"},type:"date",value:r,min:o,max:a,onChange:e=>n(e.target.value),className:"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30"})]})}let u=["all","live","scheduled","expired","hidden"],d=(e,t,r)=>{if(0===t)return r(!1),null!=e?e:[];{var l;console.log({tabIdx:t}),r(!0);let n=null!=(l=u[t])?l:"live";return console.log({wanted:n}),(null!=e?e:[]).filter(e=>(e=>{if(null==e?void 0:e.computed_status)return e.computed_status;if(!(null==e?void 0:e.published))return"hidden";let t=Date.now(),r=(null==e?void 0:e.publish_at)?new Date(e.publish_at).getTime():null,l=(null==e?void 0:e.unpublish_at)?new Date(e.unpublish_at).getTime():null;return r&&r>t?"scheduled":l&&l<=t?"expired":"live"})(e)===n)}};function m(e){let{publishModal:t,forceOpen:r,startDate:l,endDate:n}=e;if(!t)return!1;if(r)return!0;let o=new Date,a=l?function(e){let t=new Date(e);return t.setHours(0,0,0,0),t}(new Date(l)):new Date(0),i=n?function(e){let t=new Date(e);return t.setHours(23,59,59,999),t}(new Date(n)):new Date(864e13);return o>=a&&o<=i}function h(e,t){if(!e&&!t)return"";if(e&&!t)return w(e);if(!e&&t)return w(t);let r=new Date(e),l=new Date(t);if(isNaN(r.getTime())||isNaN(l.getTime()))return"";if(r.getFullYear()===l.getFullYear()&&r.getMonth()===l.getMonth()){let e=r.toLocaleString(void 0,{month:"short"});return"".concat(e," ").concat(r.getDate(),"–").concat(l.getDate(),", ").concat(r.getFullYear())}return"".concat(w(e)," – ").concat(w(t))}function f(e,t){let r=p(e),l=p(t);return r||l?r&&!l?r:!r&&l?l:"".concat(r," – ").concat(l):""}function p(e,t){var r;let l=function(e){var t,r;if(!(null==e?void 0:e.trim()))return null;let l=/^(\d{1,2})(?::(\d{1,2}))?(?::(\d{1,2})(?:\.\d+)?)?$/.exec(e.trim());if(!l)return null;let n=Number(l[1]),o=Number(null!=(t=l[2])?t:"0"),a=Number(null!=(r=l[3])?r:"0");return Number.isNaN(n)||Number.isNaN(o)||Number.isNaN(a)||n<0||n>23||o<0||o>59||a<0||a>59?null:{h:n,m:o}}(e);if(!l)return"";let n=l.h%12;0===n&&(n=12);let o=l.h<12?"am":"pm",a=(null==t?void 0:t.upper)?o.toUpperCase():o;return"".concat(n,":").concat((r=l.m)<10?"0".concat(r):String(r)," ").concat(a)}function x(e){return e?new Date(e).toISOString():null}let v=e=>{if(!e)return"";let t=new Date(e),r=e=>String(e).padStart(2,"0");return"".concat(t.getFullYear(),"-").concat(r(t.getMonth()+1),"-").concat(r(t.getDate()),"T").concat(r(t.getHours()),":").concat(r(t.getMinutes()))};function w(e){let t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}function g(e){return new Promise((t,r)=>{let l=new FileReader;l.onload=()=>t(String(l.result)),l.onerror=r,l.readAsDataURL(e)})}},9626:(e,t,r)=>{Promise.resolve().then(r.bind(r,3019))}},e=>{e.O(0,[441,964,358],()=>e(e.s=9626)),_N_E=e.O()}]);
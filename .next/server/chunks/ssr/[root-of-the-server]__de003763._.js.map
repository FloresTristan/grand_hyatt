{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 16, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/assets/grandhyatt-resized.png.mjs%20%28structured%20image%20object%29"],"sourcesContent":["import src from \"IMAGE\";\nexport default { src, width: 1920, height: 1080, blurWidth: 8, blurHeight: 5, blurDataURL: \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAFCAIAAAD38zoCAAAAZElEQVR42h2MWwoAEBRE7/5XYwE2QPJJ3kpKKJZgcr5ud84MKaW01r33MYYQgnOuPmSMqbWec+69UkrGWIwxpURw55zQ9944SilrLeccee9zzq01ZOeDRgiBsIMiYmstRP/B8wH3kWdOCY96ZAAAAABJRU5ErkJggg==\"};\n"],"names":[],"mappings":";;;AAAA;;uCACe;IAAE,KAAA,sIAAA,CAAA,UAAG;IAAE,OAAO;IAAM,QAAQ;IAAM,WAAW;IAAG,YAAY;IAAG,aAAa;AAA4O","debugId":null}},
    {"offset": {"line": 33, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/components/Lightbox.tsx"],"sourcesContent":["'use client';\r\n\r\nimport * as React from 'react';\r\nimport Image from 'next/image';\r\nimport { Dialog, DialogContent, IconButton, Box } from '@mui/material';\r\nimport CloseIcon from '@mui/icons-material/Close';\r\n\r\ntype ImageLightboxProps = {\r\n  open: boolean;\r\n  src: string;\r\n  alt?: string;\r\n  onClose: () => void;\r\n  imageRef?: React.RefObject<HTMLImageElement | null>;\r\n};\r\n\r\nexport function ImageLightbox({ open, src, alt = '', onClose, imageRef }: ImageLightboxProps) {\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth={false}\r\n      PaperProps={{\r\n        sx: {\r\n          bgcolor: 'transparent',\r\n          boxShadow: 'none',\r\n          borderRadius: 2,\r\n        },\r\n      }}\r\n    >\r\n      <DialogContent\r\n        sx={{\r\n          p: 0,\r\n          position: 'relative',\r\n          width: { xs: '95vw', sm: '90vw' },\r\n          height: { xs: '80vh', sm: '85vh' },\r\n          overflow: 'hidden',\r\n          bgcolor: 'transparent',\r\n        }}\r\n      >\r\n        {/* Close button */}\r\n        {/* <IconButton\r\n          onClick={onClose}\r\n          aria-label=\"Close\"\r\n          sx={{\r\n            position: 'absolute',\r\n            top: 8,\r\n            right: 8,\r\n            zIndex: 2,\r\n            color: '#fff',\r\n            bgcolor: 'rgba(255,255,255,0.14)',\r\n            '&:hover': { bgcolor: 'rgba(255,255,255,0.24)' },\r\n          }}\r\n        >\r\n          <CloseIcon />\r\n        </IconButton> */}\r\n\r\n        {/* Image stage */}\r\n        <Box sx={{ position: 'relative', width: '100%', height: '100%' }}>\r\n          <Image\r\n            ref={imageRef}\r\n            src={src}\r\n            alt={alt}\r\n            fill\r\n            sizes=\"100vw\"\r\n            priority\r\n            className='object-contain object-center'\r\n            // style={{ objectFit: 'contain' }}  // show the whole image (no stretch)\r\n          />\r\n        </Box>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AAAA;AAAA;AAJA;;;;AAeO,SAAS,cAAc,EAAE,IAAI,EAAE,GAAG,EAAE,MAAM,EAAE,EAAE,OAAO,EAAE,QAAQ,EAAsB;IAC1F,qBACE,8OAAC,iMAAA,CAAA,SAAM;QACL,MAAM;QACN,SAAS;QACT,UAAU;QACV,YAAY;YACV,IAAI;gBACF,SAAS;gBACT,WAAW;gBACX,cAAc;YAChB;QACF;kBAEA,cAAA,8OAAC,sNAAA,CAAA,gBAAa;YACZ,IAAI;gBACF,GAAG;gBACH,UAAU;gBACV,OAAO;oBAAE,IAAI;oBAAQ,IAAI;gBAAO;gBAChC,QAAQ;oBAAE,IAAI;oBAAQ,IAAI;gBAAO;gBACjC,UAAU;gBACV,SAAS;YACX;sBAoBA,cAAA,8OAAC,wLAAA,CAAA,MAAG;gBAAC,IAAI;oBAAE,UAAU;oBAAY,OAAO;oBAAQ,QAAQ;gBAAO;0BAC7D,cAAA,8OAAC,6HAAA,CAAA,UAAK;oBACJ,KAAK;oBACL,KAAK;oBACL,KAAK;oBACL,IAAI;oBACJ,OAAM;oBACN,QAAQ;oBACR,WAAU;;;;;;;;;;;;;;;;;;;;;AAOtB","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/components/EventModalOverlay.tsx"],"sourcesContent":["'use client';\r\n\r\nimport { useEffect, useState, useRef } from 'react';\r\nimport Image from 'next/image';\r\nimport DateRangeIcon from '@mui/icons-material/DateRange';\r\nimport ScheduleIcon from '@mui/icons-material/Schedule';\r\nimport {ImageLightbox} from './Lightbox';\r\nimport { on } from 'events';\r\n\r\n\r\nexport type EventItem = {\r\n  imageUrl?: string;\r\n  title: string;\r\n  subheading?: string;\r\n  description?: string;\r\n  dateRange?: string;\r\n  timeText?: string;\r\n  ctaLabel?: string;\r\n  ctaHref?: string;\r\n};\r\n\r\ntype Props = {\r\n  open: boolean;\r\n  onClose: () => void;\r\n  events: EventItem[];\r\n  container?: 'contained' | 'fullscreen';\r\n  initialIndex?: number;\r\n};\r\n\r\nexport default function EventModalOverlay({\r\n  open,\r\n  onClose,\r\n  events,\r\n  container = 'contained',\r\n  initialIndex = 0,\r\n}: Props) {\r\n  const [index, setIndex] = useState(() =>\r\n    Math.min(Math.max(initialIndex, 0), Math.max(0, (events?.length ?? 1) - 1))\r\n  );\r\n  const [lightboxOpen, setLightboxOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setIndex(Math.min(Math.max(initialIndex, 0), Math.max(0, (events?.length ?? 1) - 1)));\r\n  }, [events, initialIndex, open]);\r\n\r\n  console.log({ index });\r\n  const dotRefs = useRef<(HTMLButtonElement | null)[]>([]);\r\n\r\n  const imageRef = useRef<HTMLImageElement | null>(null);\r\n\r\n  useEffect(() => {\r\n    const activeDot = dotRefs.current[index];\r\n    if (activeDot) {\r\n      activeDot.scrollIntoView({\r\n        behavior: 'smooth',\r\n        inline: 'center',\r\n        block: 'nearest',\r\n      });\r\n    }\r\n  }, [index]);\r\n\r\n  \r\n\r\n  useEffect(() => {\r\n    function onClickOutsideImage(e: MouseEvent) {\r\n      if (e.target === imageRef.current) {\r\n        setLightboxOpen(false);\r\n      }\r\n    }\r\n\r\n    document.addEventListener('mousedown', onClickOutsideImage );\r\n    return () => document.removeEventListener('mousedown', onClickOutsideImage );\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!open || (events?.length ?? 0) < 1) return;\r\n    function onKey(e: KeyboardEvent) {\r\n      if (e.key === 'Escape') onClose();\r\n      if (e.key === 'ArrowLeft') setIndex((i) => (i - 1 + events.length) % events.length);\r\n      if (e.key === 'ArrowRight') setIndex((i) => (i + 1) % events.length);\r\n    }\r\n    window.addEventListener('keydown', onKey);\r\n    return () => window.removeEventListener('keydown', onKey);\r\n  }, [open, events, onClose]);\r\n\r\n\r\n  const hasEvents = (events?.length ?? 0) > 0;\r\n  if (!open || !hasEvents) return null;\r\n  \r\n  const pos = container === 'contained' ? 'absolute' : 'fixed';\r\n  const z   = container === 'contained' ? 'z-10' : 'z-[50]';\r\n  const current = events[index];\r\n  console.log({ current });\r\n\r\n  const prev = () => setIndex((i) => (i - 1 + events.length) % events.length);\r\n  const next = () => setIndex((i) => (i + 1) % events.length);\r\n\r\n  return (\r\n    <div className={`${pos} inset-0 ${z} flex items-center justify-center`} role=\"dialog\" aria-modal=\"true\">\r\n      <div className={`${pos} inset-0 bg-black/60 backdrop-blur-[1px]`} onClick={onClose} />\r\n\r\n      <div className=\"relative z-10 w-full max-w-[290px] md:max-w-[560px] rounded-2xl bg-white shadow-2xl\" onClick={(e) => e.stopPropagation()}>\r\n        <button\r\n          onClick={onClose}\r\n          aria-label=\"Close\"\r\n          className=\"absolute -right-3 -top-3 flex h-10 w-10 items-center justify-center rounded-full bg-red-500 hover:bg-red-600 text-white shadow-lg cursor-pointer ring-4 ring-white\"\r\n        >\r\n          ×\r\n        </button>\r\n\r\n        {events.length > 1 && (\r\n          <>\r\n            <button\r\n              aria-label=\"Previous\"\r\n              onClick={prev}\r\n              className=\"absolute left-2 top-1/2 z-[50] -translate-y-1/2 rounded-full bg-black/30 text-white h-8 w-8 grid place-items-center hover:bg-black/40\"\r\n            >\r\n              ‹\r\n            </button>\r\n            <button\r\n              aria-label=\"Next\"\r\n              onClick={next}\r\n              className=\"absolute right-2 top-1/2 z-[50] -translate-y-1/2 rounded-full bg-black/30 text-white h-8 w-8 grid place-items-center hover:bg-black/40\"\r\n            >\r\n              ›\r\n            </button>\r\n          </>\r\n        )}\r\n\r\n        <div className=\"px-5 pb-5 pt-6\">\r\n          {current?.imageUrl && (\r\n            <div className={`relative mx-auto mb-4 h-32 w-full overflow-hidden rounded-xl  ${container === 'fullscreen'? 'md:h-60' : 'md:h-32' }`}>\r\n              <Image\r\n                src={current.imageUrl}\r\n                alt={current.title || ''}\r\n                fill\r\n                unoptimized\r\n                className=\"object-contain object-center bg-black/50 cursor-zoom-in\r\n                  hover:scale-[1.02] transition-transform duration-300 hover:opacity-70 hover:duration-500\"\r\n                sizes=\"(max-width: 640px) 100vw, 560px\"\r\n                priority\r\n                onClick={() => setLightboxOpen(true)}\r\n              />\r\n              <ImageLightbox\r\n                open={lightboxOpen}\r\n                src={current.imageUrl || ''}\r\n                alt={current.title || ''}\r\n                imageRef={imageRef}\r\n                onClose={() => setLightboxOpen(false)}\r\n              />\r\n            </div>\r\n          )}\r\n\r\n          <h2 className=\"text-center text-neutral-600 text-3xl font-semibold tracking-tight whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto\">\r\n            {current?.title}\r\n          </h2>\r\n\r\n          {!!current?.subheading && (\r\n            <p className=\"mt-1 text-center text-sm text-neutral-600 whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto\">\r\n              {current?.subheading}\r\n            </p>\r\n          )}\r\n\r\n          {(current?.dateRange || current?.timeText) && (\r\n            <div className=\"mt-2 flex items-center justify-center gap-5 text-sm text-neutral-700\">\r\n              {current?.dateRange && (\r\n                <span className=\"inline-flex items-center gap-1.5\">\r\n                  <DateRangeIcon sx={{ fontSize: 20 }}/>\r\n                  {/* <span className=\"inline-block h-5 w-5 rounded-[4px] border border-neutral-400\" /> */}\r\n                  {current?.dateRange}\r\n                </span>\r\n              )}\r\n              {current?.timeText && (\r\n                <span className=\"inline-flex items-center gap-1.5\">\r\n                  <ScheduleIcon sx={{ fontSize: 20 }}/>\r\n                  {/* <span className=\"inline-block h-5 w-5 rounded-full border border-neutral-400\" /> */}\r\n                  {current?.timeText}\r\n                </span>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          {!!current?.description && (\r\n            <div className=\"mt-4 max-h-56 overflow-y-auto\">\r\n              <p className=\"text-sm leading-relaxed text-neutral-800 whitespace-pre-wrap break-words [overflow-wrap:anywhere] hyphens-auto\">\r\n                {current?.description}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {(current?.ctaLabel || current?.ctaHref) && (\r\n            <div className=\"mt-6 flex justify-center\">\r\n              {current?.ctaHref ? (\r\n                <a\r\n                  href={current?.ctaHref}\r\n                  target=\"_blank\"\r\n                  rel=\"noreferrer\"\r\n                  className=\"inline-flex items-center justify-center rounded-full bg-red-600 hover:bg-red-500 hover:shadow-2xl duration-300 px-6 py-3 text-sm font-semibold uppercase tracking-wide text-white shadow hover:opacity-95\"\r\n                >\r\n                  {current?.ctaLabel ?? 'Learn more'}\r\n                </a>\r\n              ) : (\r\n                <button className=\"inline-flex items-center justify-center rounded-full bg-red-600 hover:bg-red-500 hover:shadow-2xl duration-300 px-6 py-3 text-sm font-semibold uppercase tracking-wide text-white shadow hover:opacity-95\" >\r\n                  {current?.ctaLabel ?? 'Learn more'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          )}\r\n          \r\n          <div className='flex justify-center'>\r\n            <div className='items-center w-[25%] md:w-[15%]'>\r\n              {events.length > 1 && (\r\n                <div className=\"mt-4 w-full max-w-md mx-auto  overflow-x-scroll custom-scrollbar\">\r\n                  <div className=\"flex items-center gap-3 px-2\">\r\n                    {events.map((_, i) => {\r\n                      const isActive = i === index;\r\n                      return (\r\n                        <button\r\n                          key={i}\r\n                          ref={(el) => {\r\n                            dotRefs.current[i] = el;\r\n                          }}\r\n                          aria-label={`Go to slide ${i + 1}`}\r\n                          aria-current={isActive ? 'true' : undefined}\r\n                          onClick={() => setIndex(i)}\r\n                          className={`\r\n                            h-2 md:h-3 w-2 md:w-3 rounded-full transition-all duration-300\r\n                            flex-shrink-0 focus:outline-none\r\n                            ${isActive ? 'bg-neutral-900' : 'border-neutral-300 bg-neutral-200 hover:bg-neutral-400'}\r\n                          `}\r\n                        />\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/components/helpersAndInputs.tsx"],"sourcesContent":["'use client';\r\nimport React, { useState } from 'react';\r\ninterface ImageDropzoneProps {\r\n  imageUrl?: string | null;\r\n  onFileSelect: (e: React.ChangeEvent<HTMLInputElement>) => void;\r\n  onDrop: (e: React.DragEvent<HTMLDivElement>) => void;\r\n  onDragOver: (e: React.DragEvent<HTMLDivElement>) => void;\r\n  onPickClick: () => void;\r\n  inputRef?: React.RefObject<HTMLInputElement | null>;\r\n}\r\n\r\nexport type EventType = {\r\n  id: string;\r\n  title?: string;\r\n  subheading?: string;\r\n  description?: string;\r\n  start_date?: string;\r\n  end_date?: string;\r\n  start_time?: string;\r\n  end_time?: string;\r\n  cta_label?: string;\r\n  cta_href?: string;\r\n  image_url?: string;\r\n  image_path?: string;\r\n  order?: number;\r\n  published?: boolean;\r\n  publish_at?: string | null;\r\n  unpublish_at?: string | null;\r\n  computed_status?: 'hidden' | 'scheduled' | 'expired' | 'live';\r\n  [key: string]: unknown;\r\n};\r\n\r\nexport const ImageDropzone: React.FC<ImageDropzoneProps> = ({\r\n  imageUrl,\r\n  onFileSelect,\r\n  onDrop,\r\n  onDragOver,\r\n  onPickClick,\r\n  inputRef\r\n}) => {\r\n  return (\r\n    <div\r\n      className=\"border border-dashed rounded-xl h-32 flex items-center justify-center relative hover:border-white/60 transition-colors cursor-pointer group\"\r\n      onClick={onPickClick}\r\n      onDrop={onDrop}\r\n      onDragOver={onDragOver}\r\n      title=\"Click, drag & drop, or paste an image\"\r\n    >\r\n      {!imageUrl ? (\r\n        <div className=\"text-center text-white/70 px-4\">\r\n          <div className=\"text-sm\">Image Upload</div>\r\n          <div className=\"text-xs mt-1 opacity-80\">Click, drag & drop, or paste</div>\r\n        </div>\r\n      ) : (\r\n        // eslint-disable-next-line @next/next/no-img-element\r\n        <img\r\n          src={imageUrl}\r\n          alt=\"Preview\"\r\n          className=\"absolute inset-0 w-full h-full object-cover rounded-xl\"\r\n        />\r\n      )}\r\n      <div className=\"absolute inset-0 rounded-xl ring-0 group-hover:ring-2 ring-white/10 pointer-events-none\" />\r\n      <input\r\n        ref={inputRef}\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        onChange={onFileSelect}\r\n        className=\"hidden\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport async function fetchEventsForClient({ setEvents, setLoadingEvents }: { setEvents: (events: EventType[]) => void; setLoadingEvents: (loading: boolean) => void; }) {\r\n  setLoadingEvents(true);\r\n  try {\r\n    const res = await fetch('/api/events', { cache: 'no-store' });\r\n    const data = await res.json();\r\n    console.log(data, 'fetched data for homepage');\r\n    console.log(\r\n      'ANON key fingerprint:',\r\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY?.slice(0, 6),\r\n      '…',\r\n      process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY?.slice(-6)\r\n    );\r\n    if (!res.ok) throw new Error(data?.error || 'Failed to load events');\r\n    const items = (data.items || []).sort(\r\n    (a: EventType, b: EventType) => (a.order ?? 0) - (b.order ?? 0)\r\n  );\r\n    // console.log(items, 'fetched items for homepage');\r\n    setEvents(items);\r\n  } catch (e) {\r\n    console.error(e);\r\n  } finally {\r\n    setLoadingEvents(false);\r\n  }\r\n}\r\n\r\nexport async function fetchEventsForAdmin({ setEvents, setLoadingEvents }: { setEvents: (events: EventType[]) => void; setLoadingEvents: (loading: boolean) => void; }) {\r\n  setLoadingEvents(true);\r\n  try {\r\n    const res = await fetch('/api/admin/events', { cache: 'no-store' });\r\n    const data = await res.json();\r\n    if (!res.ok) throw new Error(data?.error || 'Failed to load events');\r\n    const items = (data.items || []).sort(\r\n    (a: EventType, b: EventType) => (a.order ?? 0) - (b.order ?? 0)\r\n  );\r\n\r\n    setEvents(items);\r\n  } catch (e) {\r\n    console.error(e);\r\n  } finally {\r\n    setLoadingEvents(false);\r\n  }\r\n}\r\n\r\nexport type Season = {\r\n  id: string;\r\n  name: string;\r\n  image_url: string | null;\r\n  gif_url: string | null;\r\n  is_active?: boolean;\r\n  created_at?: string;\r\n};\r\n\r\nexport async function fetchSeasons({setSeasons,setLoading,}: {setSeasons: (items: Season[]) => void; setLoading?: (loading: boolean) => void;}) {\r\n  try {\r\n    setLoading?.(true);\r\n    const res = await fetch('/api/seasons', { cache: 'no-store' });\r\n    const json = await res.json();\r\n    if (!res.ok) throw new Error(json?.error || 'Failed to load seasons');\r\n    const items: Season[] = Array.isArray(json?.items) ? json.items : [];\r\n    setSeasons(items);\r\n    return items;\r\n  } catch (err) {\r\n    console.error(err);\r\n    setSeasons([]);\r\n    return [];\r\n  } finally {\r\n    setLoading?.(false);\r\n  }\r\n}\r\n\r\nexport function LabeledInput({ label, value, onChange, placeholder }: { label: string; value: string; onChange: (v: string) => void; placeholder?: string }) {\r\n  return (\r\n    <label className=\"block\">\r\n      <div className=\"text-sm mb-1 text-white/80\">{label}</div>\r\n      <input value={value} onChange={(e) => onChange(e.target.value)} placeholder={placeholder} className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30\" />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport function LabeledTextarea({ label, value, onChange, placeholder, rows = 5 }: { label: string; value: string; onChange: (v: string) => void; placeholder?: string; rows?: number }) {\r\n  return (\r\n    <label className=\"block\">\r\n      <div className=\"text-sm mb-1 text-white/80\">{label}</div>\r\n      <textarea value={value} maxLength={500} onChange={(e) => onChange(e.target.value)} placeholder={placeholder} rows={rows} className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30 resize-y\" />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport function LabeledDate({ label, value, onChange, min, max }: { label: string; value: string; onChange: (v: string) => void; min?: string; max?: string }) {\r\n  return (\r\n    <label className=\"block\">\r\n      <div className=\"text-sm mb-1 text-white/80\">{label}</div>\r\n      <input style={{ colorScheme: 'dark' }} type=\"date\" value={value} min={min} max={max} onChange={(e) => onChange(e.target.value)} className=\"w-full rounded-lg bg-[#131a2a] border border-white/10 px-3 py-2 outline-none focus:border-white/30\" />\r\n    </label>\r\n  );\r\n}\r\n\r\nexport type Status = 'all'|'live' | 'scheduled' | 'expired' | 'hidden';\r\nexport const computeStatus = (e: EventType): Status => {\r\n  if (e?.computed_status) return e.computed_status as Status;\r\n  if (!e?.published) return 'hidden';\r\n  const now = Date.now();\r\n  const pub  = e?.publish_at   ? new Date(e.publish_at).getTime()   : null;\r\n  const unpub= e?.unpublish_at ? new Date(e.unpublish_at).getTime() : null;\r\n  if (pub && pub > now) return 'scheduled';\r\n  if (unpub && unpub <= now) return 'expired';\r\n  return 'live';\r\n};\r\n\r\nexport const TAB_TO_STATUS: Status[] = ['all','live', 'scheduled', 'expired', 'hidden'];\r\nexport const applyFilter = (items: EventType[], tabIdx: number, setDisableDrag: (value:boolean)=>void ) => {\r\n  if (tabIdx === 0){\r\n    setDisableDrag(false)\r\n    return items ?? []\r\n  }else{\r\n    console.log({ tabIdx })\r\n    setDisableDrag(true)\r\n    const wanted = TAB_TO_STATUS[tabIdx] ?? 'live';\r\n    console.log({ wanted })\r\n    return (items ?? []).filter(e => computeStatus(e) === wanted);\r\n  }\r\n};\r\n\r\n\r\nexport function shouldShowModal({\r\n  publishModal,\r\n  forceOpen,\r\n  startDate,\r\n  endDate,\r\n}: {\r\n  publishModal: boolean;\r\n  forceOpen: boolean;\r\n  startDate?: string;\r\n  endDate?: string;\r\n}) {\r\n  if (!publishModal) return false;\r\n  if (forceOpen) return true;\r\n  const now = new Date();\r\n  const s = startDate ? startOfDay(new Date(startDate)) : new Date(0);\r\n  const e = endDate ? endOfDay(new Date(endDate)) : new Date(8640000000000000);\r\n  return now >= s && now <= e;\r\n}\r\n\r\nexport function startOfDay(d: Date) { const x = new Date(d); x.setHours(0,0,0,0); return x; }\r\nexport function endOfDay(d: Date)   { const x = new Date(d); x.setHours(23,59,59,999); return x; }\r\nexport function formatDateRange(start?: string, end?: string) {\r\n  if (!start && !end) return '';\r\n  if (start && !end) return pretty(start);\r\n  if (!start && end) return pretty(end);\r\n  const sd = new Date(start!); \r\n  const ed = new Date(end!);\r\n  if (isNaN(sd.getTime()) || isNaN(ed.getTime())) return '';\r\n  const sameMonth = sd.getFullYear() === ed.getFullYear() && sd.getMonth() === ed.getMonth();\r\n  if (sameMonth) {\r\n    const m = sd.toLocaleString(undefined, { month: 'short' });\r\n    return `${m} ${sd.getDate()}–${ed.getDate()}, ${sd.getFullYear()}`;\r\n  }\r\n  return `${pretty(start!)} – ${pretty(end!)}`;\r\n}\r\n\r\nexport function formatTimeRange(start?: string, end?: string) {\r\n  const s = to12h(start);\r\n  const e = to12h(end);\r\n\r\n  if (!s && !e) return '';\r\n  if (s && !e) return s;\r\n  if (!s && e) return e;\r\n  return `${s} – ${e}`;\r\n}\r\n\r\nfunction parseHM(t?: string): { h: number; m: number } | null {\r\n  if (!t?.trim()) return null;\r\n\r\n  const m = /^(\\d{1,2})(?::(\\d{1,2}))?(?::(\\d{1,2})(?:\\.\\d+)?)?$/.exec(t.trim());\r\n  if (!m) return null;\r\n\r\n  const h = Number(m[1]);\r\n  const min = Number(m[2] ?? '0');\r\n\r\n  const sec = Number(m[3] ?? '0');\r\n\r\n  if (\r\n    Number.isNaN(h) || Number.isNaN(min) || Number.isNaN(sec) ||\r\n    h < 0 || h > 23 || min < 0 || min > 59 || sec < 0 || sec > 59\r\n  ) return null;\r\n\r\n  return { h, m: min };\r\n}\r\n\r\nfunction pad2(n: number) {\r\n  return n < 10 ? `0${n}` : String(n);\r\n}\r\n\r\nexport function to12h(t?: string, opts?: { upper?: boolean }) {\r\n  const hm = parseHM(t);\r\n  if (!hm) return '';\r\n  let hour = hm.h % 12;\r\n  if (hour === 0) hour = 12;\r\n  const suffix = hm.h < 12 ? 'am' : 'pm';\r\n  const ampm = opts?.upper ? suffix.toUpperCase() : suffix;\r\n  return `${hour}:${pad2(hm.m)} ${ampm}`;\r\n}\r\n\r\nexport function toUtcIso(dtLocal?: string | null) {\r\n  if (!dtLocal) return null;\r\n  return new Date(dtLocal).toISOString();\r\n}\r\n\r\nexport const toLocalInputValue = (iso?: string | null) => {\r\n  if (!iso) return '';\r\n  const d = new Date(iso);           // parses as UTC; getters return local\r\n  const pad = (n: number) => String(n).padStart(2, '0');\r\n  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}T${pad(d.getHours())}:${pad(d.getMinutes())}`;\r\n};\r\n\r\nexport function pretty(s: string) {\r\n  const d = new Date(s); \r\n  if (isNaN(d.getTime())) return '';\r\n\r\n  return d.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: 'numeric' });\r\n}\r\n\r\n\r\nexport function fileToDataUrl(file: File): Promise<string> {\r\n  return new Promise((resolve, reject) => {\r\n    const reader = new FileReader();\r\n    reader.onload = () => resolve(String(reader.result));\r\n    reader.onerror = reject;\r\n    reader.readAsDataURL(file);\r\n  });\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 820, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/components/SeasonOverlay.tsx"],"sourcesContent":["import Image, {StaticImageData} from \"next/image\"\r\n\r\ntype OverlayProps ={\r\n    show: boolean;\r\n    frameSrc: string | StaticImageData;\r\n}\r\n\r\nexport default function SeasonOverlay({show, frameSrc}:OverlayProps){\r\n\r\n    if(show === false ) return null;\r\n    return (\r\n        <>\r\n            <Image unoptimized src={frameSrc} alt={'sample'} fill className=\"object-fill object-center\" />\r\n        </>\r\n    )\r\n}"],"names":[],"mappings":";;;;AAAA;;;AAOe,SAAS,cAAc,EAAC,IAAI,EAAE,QAAQ,EAAc;IAE/D,IAAG,SAAS,OAAQ,OAAO;IAC3B,qBACI;kBACI,cAAA,8OAAC,6HAAA,CAAA,UAAK;YAAC,WAAW;YAAC,KAAK;YAAU,KAAK;YAAU,IAAI;YAAC,WAAU;;;;;;;AAG5E","debugId":null}},
    {"offset": {"line": 847, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Mata/Documents/GitHub/grand_hyatt/src/app/page.tsx"],"sourcesContent":["/* eslint-disable @next/next/no-img-element */\r\n\"use client\";\r\n\r\nimport Image from 'next/image';\r\nimport grandhyattmodel from \"../app/assets/grandhyatt-resized.png\"\r\nimport EventModalOverlay from './components/EventModalOverlay';\r\nimport { fetchEventsForClient, EventType, formatDateRange, to12h, fetchSeasons, Season } from './components/helpersAndInputs';\r\nimport { useEffect, useState } from 'react';\r\nimport { IoInformationCircleSharp } from \"react-icons/io5\";\r\nimport SeasonOverlay from './components/SeasonOverlay';\r\nimport { TransformWrapper, TransformComponent } from \"react-zoom-pan-pinch\";\r\nimport KrpanoViewer from './components/KrpanoViewer';\r\n\r\nexport default function Home() {\r\n  const [events, setEvents] = useState<EventType[]>([]);\r\n  const [loadingEvents, setLoadingEvents] = useState(false);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [open, setOpen] = useState(true);\r\n  const [seasons, setSeasons] = useState<Season[]>([])\r\n  const [loading, setLoading] = useState(false)\r\n  const [selectedSeason, setSelectedSeason] = useState<Season>();\r\n\r\n\r\n  const IMG_W = grandhyattmodel.width;\r\n  const IMG_H = grandhyattmodel.height;\r\n\r\n  useEffect(() => {\r\n    fetchEventsForClient({ setEvents, setLoadingEvents});\r\n    fetchSeasons({setSeasons, setLoading})\r\n    const isInIframe = window.self !== window.top;\r\n    if (!isInIframe) {\r\n      setShowModal(true);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(!seasons) return;\r\n    \r\n    const activeSeason = seasons.find((season)=> season.is_active === true)\r\n    console.log({activeSeason})\r\n    setSelectedSeason(activeSeason)\r\n  }, [seasons]);\r\n\r\n  const onClose = () => setOpen(false);\r\n\r\n  console.log({seasons})\r\n  console.log({selectedSeason})\r\n  // console.log(events)\r\n\r\n  const frameSrc = selectedSeason?.gif_url ?? null;\r\n\r\n  return (\r\n    <div className=\"relative w-screen h-screen overflow-hidden\">\r\n\r\n      {/* Optional seasonal frame overlay (doesn't pan/zoom) */}\r\n      {showModal && frameSrc && (\r\n        <div className=\"pointer-events-none absolute inset-0 z-20\">\r\n          <SeasonOverlay show={false} frameSrc={frameSrc} />\r\n        </div>\r\n      )}\r\n\r\n      {/* PAN & ZOOM AREA */}\r\n      <div className=\"relative z-10 bg-black/5\">\r\n        <TransformWrapper\r\n          minScale={1}\r\n          maxScale={4}\r\n          initialScale={1}\r\n          centerOnInit\r\n          disablePadding\r\n          wheel={{ step: 0.2 }}\r\n          doubleClick={{ disabled: false, mode: \"zoomIn\" }}\r\n          pinch={{ step: 5 }}\r\n          limitToBounds={true}\r\n          alignmentAnimation={{ sizeX: 200, sizeY: 200, animationType: \"easeOut\" }}\r\n        >\r\n          {({ zoomIn, zoomOut, resetTransform }) => (\r\n            <>\r\n              <div className=\"absolute right-3 top-3 z-30 flex gap-2\">\r\n                <button\r\n                  onClick={() => zoomOut()}\r\n                  className=\"rounded bg-white/80 px-2 py-1 text-sm hover:bg-white\"\r\n                >\r\n                  −\r\n                </button>\r\n                <button\r\n                  onClick={() => zoomIn()}\r\n                  className=\"rounded bg-white/80 px-2 py-1 text-sm hover:bg-white\"\r\n                >\r\n                  +\r\n                </button>\r\n                <button\r\n                  onClick={() => resetTransform()}\r\n                  className=\"rounded bg-white/80 px-2 py-1 text-sm hover:bg-white\"\r\n                >\r\n                  Reset\r\n                </button>\r\n              </div>\r\n\r\n              <TransformComponent\r\n                // wrapperClass=\"w-full h-full\"\r\n                // contentClass=\"relative\"\r\n              >\r\n                <div style={{ position: 'relative', width: IMG_W, height: IMG_H }}>\r\n                  <Image\r\n                    src={grandhyattmodel}\r\n                    alt=\"Grand Hyatt Map\"\r\n                    priority\r\n                    draggable={false}\r\n                    className=\"select-none pointer-events-none block \"\r\n                  />\r\n                  <button\r\n                    className=\"absolute right-[470px] top-[220px] -translate-x-1/2 -translate-y-1/2\r\n                              rounded-full border-2 hover:scale-125 border-blue-600 hover:bg-blue-600 duration-500 text-white text-xs px-2 py-1\"\r\n                    onClick={(e) => { e.stopPropagation(); alert(\"Grand Hyatt Manila\"); }}\r\n                  >\r\n                    Grand Hyatt Manila\r\n                  </button>\r\n                </div>\r\n              </TransformComponent>\r\n            </>\r\n          )}\r\n        </TransformWrapper>\r\n      </div>\r\n      {/* <Map/> */}\r\n\r\n      {/* Events modal */}\r\n      {showModal && events.length > 0 && (\r\n        <EventModalOverlay\r\n          container=\"fullscreen\"\r\n          open={true}\r\n          onClose={onClose}\r\n          events={events.map((e) => ({\r\n            ...e,\r\n            imageUrl: e.image_url ?? undefined,\r\n            title: e.title ?? \"(untitled)\",\r\n            subheading: e.subheading ?? \"\",\r\n            description: e.description ?? \"\",\r\n            dateRange: formatDateRange(e.start_date, e.end_date),\r\n            timeText: to12h(e.start_time),\r\n            ctaLabel: e.cta_label ?? \"\",\r\n            ctaHref: e.cta_href ?? \"\",\r\n          }))}\r\n          initialIndex={0}\r\n        />\r\n      )}\r\n\r\n      {/* Manual open button */}\r\n      <button onClick={() => setOpen(true)}>\r\n        <IoInformationCircleSharp className=\"absolute bottom-4 z-30 right-4 h-12 w-12 cursor-pointer hover:text-red-500 duration-300\" />\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}